[2022-08-20 07:39:28,787] {taskinstance.py:1179} INFO - Dependencies all met for <TaskInstance: yandex-rates-test.waiting_for_file scheduled__2022-08-19T15:00:00+00:00 [queued]>
[2022-08-20 07:39:29,250] {taskinstance.py:1179} INFO - Dependencies all met for <TaskInstance: yandex-rates-test.waiting_for_file scheduled__2022-08-19T15:00:00+00:00 [queued]>
[2022-08-20 07:39:29,273] {taskinstance.py:1376} INFO - 
--------------------------------------------------------------------------------
[2022-08-20 07:39:29,276] {taskinstance.py:1377} INFO - Starting attempt 1 of 1
[2022-08-20 07:39:29,295] {taskinstance.py:1378} INFO - 
--------------------------------------------------------------------------------
[2022-08-20 07:39:30,282] {taskinstance.py:1397} INFO - Executing <Task(FileSensor): waiting_for_file> on 2022-08-19 15:00:00+00:00
[2022-08-20 07:39:30,598] {standard_task_runner.py:52} INFO - Started process 4607 to run task
[2022-08-20 07:39:30,975] {standard_task_runner.py:79} INFO - Running: ['***', 'tasks', 'run', 'yandex-rates-test', 'waiting_for_file', 'scheduled__2022-08-19T15:00:00+00:00', '--job-id', '33', '--raw', '--subdir', 'DAGS_FOLDER/yandex_dag.py', '--cfg-path', '/tmp/tmp0u0qgwej', '--error-file', '/tmp/tmpzx2nuayn']
[2022-08-20 07:39:31,105] {standard_task_runner.py:80} INFO - Job 33: Subtask waiting_for_file
[2022-08-20 07:39:34,279] {task_command.py:371} INFO - Running <TaskInstance: yandex-rates-test.waiting_for_file scheduled__2022-08-19T15:00:00+00:00 [running]> on host 00f41d9230c6
[2022-08-20 07:39:40,415] {taskinstance.py:1591} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=***
AIRFLOW_CTX_DAG_ID=yandex-rates-test
AIRFLOW_CTX_TASK_ID=waiting_for_file
AIRFLOW_CTX_EXECUTION_DATE=2022-08-19T15:00:00+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2022-08-19T15:00:00+00:00
[2022-08-20 07:39:41,185] {base.py:68} INFO - Using connection ID 'ya_***_workshop_file_path' for task execution.
[2022-08-20 07:39:41,187] {filesystem.py:58} INFO - Poking for file C:/Users/AbduevSA-LA/Desktop/Yandex/Airflow_workshop/workshop_***-main/
[2022-08-20 07:39:42,439] {taskinstance.py:1873} INFO - Rescheduling task, marking task as UP_FOR_RESCHEDULE
[2022-08-20 07:39:43,905] {local_task_job.py:221} WARNING - State of this instance has been externally set to up_for_reschedule. Terminating instance.
[2022-08-20 07:39:44,176] {process_utils.py:129} INFO - Sending Signals.SIGTERM to group 4607. PIDs of all processes in the group: [4607]
[2022-08-20 07:39:44,196] {process_utils.py:80} INFO - Sending the signal Signals.SIGTERM to group 4607
[2022-08-20 07:39:44,198] {process_utils.py:75} INFO - Process psutil.Process(pid=4607, status='terminated', exitcode=0, started='07:39:30') (4607) terminated with exit code 0
[2022-08-20 10:23:14,347] {taskinstance.py:1179} INFO - Dependencies all met for <TaskInstance: yandex-rates-test.waiting_for_file scheduled__2022-08-19T15:00:00+00:00 [queued]>
[2022-08-20 10:23:15,254] {taskinstance.py:1179} INFO - Dependencies all met for <TaskInstance: yandex-rates-test.waiting_for_file scheduled__2022-08-19T15:00:00+00:00 [queued]>
[2022-08-20 10:23:15,360] {taskinstance.py:1376} INFO - 
--------------------------------------------------------------------------------
[2022-08-20 10:23:15,376] {taskinstance.py:1377} INFO - Starting attempt 1 of 1
[2022-08-20 10:23:15,403] {taskinstance.py:1378} INFO - 
--------------------------------------------------------------------------------
[2022-08-20 10:23:17,276] {taskinstance.py:1397} INFO - Executing <Task(FileSensor): waiting_for_file> on 2022-08-19 15:00:00+00:00
[2022-08-20 10:23:18,170] {standard_task_runner.py:52} INFO - Started process 4680 to run task
[2022-08-20 10:23:18,729] {standard_task_runner.py:79} INFO - Running: ['***', 'tasks', 'run', 'yandex-rates-test', 'waiting_for_file', 'scheduled__2022-08-19T15:00:00+00:00', '--job-id', '39', '--raw', '--subdir', 'DAGS_FOLDER/yandex_dag.py', '--cfg-path', '/tmp/tmpcq6xnd7v', '--error-file', '/tmp/tmp0krbptzb']
[2022-08-20 10:23:18,963] {standard_task_runner.py:80} INFO - Job 39: Subtask waiting_for_file
[2022-08-20 10:23:27,106] {task_command.py:371} INFO - Running <TaskInstance: yandex-rates-test.waiting_for_file scheduled__2022-08-19T15:00:00+00:00 [running]> on host 00f41d9230c6
[2022-08-20 10:23:34,472] {taskinstance.py:1591} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=***
AIRFLOW_CTX_DAG_ID=yandex-rates-test
AIRFLOW_CTX_TASK_ID=waiting_for_file
AIRFLOW_CTX_EXECUTION_DATE=2022-08-19T15:00:00+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2022-08-19T15:00:00+00:00
[2022-08-20 10:23:35,707] {base.py:68} INFO - Using connection ID 'ya_***_workshop_file_path' for task execution.
[2022-08-20 10:23:35,744] {filesystem.py:58} INFO - Poking for file C:/Users/AbduevSA-LA/Desktop/Yandex/Airflow_workshop/workshop_***-main/
[2022-08-20 10:23:35,927] {taskinstance.py:1909} ERROR - Task failed with exception
Traceback (most recent call last):
  File "/home/airflow/.local/lib/python3.7/site-packages/airflow/sensors/base.py", line 288, in execute
    raise AirflowSensorTimeout(f"Snap. Time is OUT. DAG id: {log_dag_id}")
airflow.exceptions.AirflowSensorTimeout: Snap. Time is OUT. DAG id: yandex-rates-test
[2022-08-20 10:23:36,329] {taskinstance.py:1420} INFO - Immediate failure requested. Marking task as FAILED. dag_id=yandex-rates-test, task_id=waiting_for_file, execution_date=20220819T150000, start_date=20220820T102314, end_date=20220820T102336
[2022-08-20 10:23:37,037] {standard_task_runner.py:97} ERROR - Failed to execute job 39 for task waiting_for_file (Snap. Time is OUT. DAG id: yandex-rates-test; 4680)
[2022-08-20 10:23:37,874] {local_task_job.py:156} INFO - Task exited with return code 1
[2022-08-20 10:23:38,667] {logging_mixin.py:115} INFO - {'conf': <***.configuration.AirflowConfigParser object at 0x7fdb0783b690>, 'dag': <DAG: yandex-rates-test>, 'dag_run': <DagRun yandex-rates-test @ 2022-08-19 15:00:00+00:00: scheduled__2022-08-19T15:00:00+00:00, externally triggered: False>, 'data_interval_end': DateTime(2022, 8, 19, 18, 0, 0, tzinfo=Timezone('UTC')), 'data_interval_start': DateTime(2022, 8, 19, 15, 0, 0, tzinfo=Timezone('UTC')), 'ds': '2022-08-19', 'ds_nodash': '20220819', 'execution_date': DateTime(2022, 8, 19, 15, 0, 0, tzinfo=Timezone('UTC')), 'inlets': [], 'logical_date': DateTime(2022, 8, 19, 15, 0, 0, tzinfo=Timezone('UTC')), 'macros': <module '***.macros' from '/home/***/.local/lib/python3.7/site-packages/***/macros/__init__.py'>, 'next_ds': '2022-08-19', 'next_ds_nodash': '20220819', 'next_execution_date': DateTime(2022, 8, 19, 18, 0, 0, tzinfo=Timezone('UTC')), 'outlets': [], 'params': {}, 'prev_data_interval_start_success': None, 'prev_data_interval_end_success': None, 'prev_ds': '2022-08-19', 'prev_ds_nodash': '20220819', 'prev_execution_date': DateTime(2022, 8, 19, 12, 0, 0, tzinfo=Timezone('UTC')), 'prev_execution_date_success': None, 'prev_start_date_success': None, 'run_id': 'scheduled__2022-08-19T15:00:00+00:00', 'task': <Task(FileSensor): waiting_for_file>, 'task_instance': <TaskInstance: yandex-rates-test.waiting_for_file scheduled__2022-08-19T15:00:00+00:00 [failed]>, 'task_instance_key_str': 'yandex-rates-test__waiting_for_file__20220819', 'test_mode': False, 'ti': <TaskInstance: yandex-rates-test.waiting_for_file scheduled__2022-08-19T15:00:00+00:00 [failed]>, 'tomorrow_ds': '2022-08-20', 'tomorrow_ds_nodash': '20220820', 'ts': '2022-08-19T15:00:00+00:00', 'ts_nodash': '20220819T150000', 'ts_nodash_with_tz': '20220819T150000+0000', 'var': {'json': None, 'value': None}, 'conn': None, 'yesterday_ds': '2022-08-18', 'yesterday_ds_nodash': '20220818', 'exception': AirflowSensorTimeout('Snap. Time is OUT. DAG id: yandex-rates-test')}
[2022-08-20 10:23:38,671] {logging_mixin.py:115} INFO - Sensor timed out
[2022-08-20 10:23:39,572] {local_task_job.py:273} INFO - 0 downstream tasks scheduled from follow-on schedule check
